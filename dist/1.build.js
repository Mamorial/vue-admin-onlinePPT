webpackJsonp([1],{405:function(t,e,a){var i,n;a(443),i=a(420);var s=a(437);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,t.exports=i},406:function(t,e,a){var i,n;a(446),i=a(421);var s=a(440);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,t.exports=i},420:function(t,e,a){"use strict";var i=a(149),n=a(51);e.default={data:function(){return{radio:"1",dialogFormVisible:!1,listId:"",checkTagNum:[],checked:!1,tags:[],modalContens:[{src:"",id:1,checked:!1,date:"2017/8/4",user:"zhangsan",tag:["产品推广","企业培训"]},{src:"",id:2,checked:!1,date:"2017/8/4",user:"zhangsan",tag:["产品推广","企业培训"]}],form:{name:""},items:[{id:null,name:"全部",selected:!0}],params:{url:"/admin/pptTemps/",pageSize:5,pageNo:1},current:1}},mounted:function(){this.init()},methods:{paginateInitChange:function(t,e){t.map(function(t,e,a){t.selected=!1;var i=t.createTime,n=[];i=new Date(i).toLocaleString(),t.createTime=i,"string"==typeof t.tagName&&(n=t.tagName.split(","),""==n[n.length-1]&&n.pop(),t.tagName=n)}),this.modalContens=t,this.current=e},init:function(){var t=this;n.a({url:"/admin/pptTags/",method:"GET",callback:function(e){e.object.map(function(e,a,i){e.selected=!1,t.items.push(e)})}})},selectTag:function(t){var e=this;e.items.map(function(e,a,i){e.id===t?e.selected=!0:e.selected=!1}),t?(e.params={url:"/admin/pptTemps/?tag="+t,pageSize:5,pageNo:1},e.$refs.page.fetchData(e.params)):(e.params={url:"/admin/pptTemps/",pageSize:5,pageNo:1},e.$refs.page.fetchData(e.params))},modalAdd:function(){this.dialogFormVisible=!0},modalAddbtn:function(){this.dialogFormVisible=!1;var t={};t.name=this.form.name,t.label=Date.parse(new Date),this.items.push(t)},deleteBtn:function(){var t=this,e=this,a=[],i="";this.modalContens.map(function(t,e,i){t.selected&&a.push(t.id)}),i=a.join(),0===i.length?e.$message.error("请选择需要删除的模板"):e.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a({url:"/admin/pptTemps/"+i,method:"delete",callback:function(t){100==t.code&&(e.$refs.page.fetchData(e.params),e.$message({type:"success",message:"删除成功!"}))}})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},modalEdit:function(){i.default.push("/pptModal/edit/")},checkTag:function(t){this.modalContens.map(function(e,a,i){e.id===t&&(e.selected=!e.selected)})}}}},421:function(t,e,a){"use strict";var i=a(51);e.default={data:function(){return{radio:"1",checkedCities:"",select_tag:[],select_tagName:[],modalName:"",formData:{name:"af",tempUpload:"af",styleUpload:"afadf"},tags:[{id:1,name:"afdad"},{id:2,name:"asdfd"}],items:[{label:1,id:1,src:"",uploadDate:"dsfasdf"},{label:2,id:2,src:"",uploadDate:"asdfasdf"},{label:3,id:3,src:"",uploadDate:"adfsasd"}],fileList:[]}},mounted:function(){this.init();var t="",e=",";$(".tagNameValueList").on("change","input",function(){var a=$(".tagNameValueList input:checked");t="",e="";for(var i=0;i<a.length;i++)t+=$(a[i]).val()+",",e+=$(a[i]).next().html()+",";e?$("#tagName").val(","+e):$("#tagName").val(),$("#tag").val(t)})},methods:{init:function(){var t=this;i.a({url:"/admin/pptTags/",method:"GET",callback:function(e){t.tags=e.object}})},selectTag:function(t,e){this.select_tag.push(t),this.select_tagName.push(e)},submitMsg:function(){var t=this;i.b("addLoading"),$("#modalForm").ajaxForm(function(e){var a=[];e?(a=JSON.parse(e),t.submitMsgInfo(a),i.b("removeLoading")):i.b("addLoading")})},submitMsgInfo:function(t){var e=this;100===t.code?(e.$message({type:"success",message:"上传成功!"}),document.getElementById("modalForm").reset()):101===t.code?this.$message.error(t.message):this.$message.error("请选择上传的文件")}}}},428:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".index-modal{width:90%;height:auto;margin:auto;padding:10px}.index-modal-listL{float:left;margin-top:20px}.index-modal-list{padding-left:20px;overflow:hidden;margin-top:100px}.index-modal-list ul{width:100%;height:auto}.index-modal-list ul li{margin:20px;float:left;cursor:pointer}.index-modal-list ul li:hover{color:red}.index-modal-list button{margin-top:10px}.index-modal-listContent{width:100%;height:307px;overflow:hidden;margin-top:20px;padding:30px 0}.index-modal-listContent table{width:100%;height:auto}.index-modal-listContent table tr td{text-align:center;padding:10px}.index-modal-listContent table tr td .el-tag{margin-right:10px}.index-modal-listContent table tbody tr td img{width:100px;height:50px}.index-modal-button{margin-top:20px;text-align:right;overflow:hidden;width:100%;height:80px}.newInput{float:left;width:80%}.selectedTag{color:red}.noselectedTag{color:#000}",""])},431:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".index-view{width:80%;height:auto;margin:auto}.index-view-top{border:1px solid red}.index-view-content,.index-view-top{width:100%;height:auto;overflow:hidden}.index-view-content{padding:10px}.index-view-content-top:first-of-type{margin-top:100px}.index-view-content-top{width:100%;height:auto;overflow:hidden;position:relative;margin:50px 0}.index-view-content-top span{float:left;margin-right:30px}.index-view-content-top .Name{width:70%;margin:0}.index-view-content-top button{margin:0 0 0 100px}.index-view-content-top button span{position:relative}.index-view-content-bottom span{top:90px}.index-view-content-bottom .avatar-uploader{margin-left:70px}.avatar-uploader{width:180px;height:180px;margin-left:30px}.index-view-tags,.index-view-tagsB{padding:10px;margin-top:20px}.index-view-tagsB div{margin-right:10px}.ds-none{display:none}.submit{border:none;width:80px;height:30px;line-height:30px;text-align:center;cursor:pointer;margin:30px;border-radius:5px;background:#20a0ff;color:#fff}",""])},437:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-modal"},[a("div",{staticClass:"index-modal-list"},t._l(t.items,function(e){return a("ul",{attrs:{id:"modalList"}},[a("li",{class:e.selected?"selectedTag":"noselectedTag",on:{click:function(a){t.selectTag(e.id)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])])})),t._v(" "),a("div",{staticClass:"index-modal-listContent"},[a("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"1"}},[t._m(0),t._v(" "),a("tbody",t._l(t.modalContens,function(e){return a("tr",[a("td",[a("el-checkbox",{attrs:{label:e.id},on:{change:function(a){t.checkTag(e.id)}}},[t._v(" ")])],1),t._v(" "),a("td",[a("img",{attrs:{src:e.imageUrl}})]),t._v(" "),a("td",[t._v(t._s(e.createTime))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",t._l(e.tagName,function(e){return a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e))])}))])}))])]),t._v(" "),a("div",{staticClass:"index-modal-button"},[a("div",{staticClass:"textLight spaceFixedTop"},[a("Paginate",{ref:"page",attrs:{params:t.params},on:{paginateInitChange:t.paginateInitChange}})],1),t._v(" "),a("el-button",{on:{click:t.modalEdit}},[t._v("新建")]),t._v(" "),a("el-button",{on:{click:t.deleteBtn}},[t._v("删除")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("选择")]),t._v(" "),a("td",[t._v("缩略图")]),t._v(" "),a("td",[t._v("上传时间")]),t._v(" "),a("td",[t._v("上传人")]),t._v(" "),a("td",[t._v("标签")])])])}]}},440:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-view"},[a("form",{attrs:{id:"modalForm",action:"/admin/pptTemps/save/",enctype:"multipart/form-data",method:"post",target:"id_iframe"}},[a("div",{staticClass:"index-view-content"},[a("div",{staticClass:"index-view-content-top"},[a("span",[t._v("模板名称：")]),t._v(" "),a("el-input",{staticClass:"Name",attrs:{name:"name",placeholder:"请输入模板名称"}})],1),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"index-view-tags"},[a("span",[t._v("选择适配的标签")]),t._v(" "),a("div",{staticClass:"index-view-tagsB tagNameValueList"},[t._l(t.tags,function(e){return a("div",{staticStyle:{float:"left"}},[a("input",{attrs:{type:"checkbox"},domProps:{value:e.id}}),t._v(" "),a("span",[t._v(t._s(e.name))])])}),t._v(" "),a("input",{staticClass:"ds-none",attrs:{id:"tag",name:"tag",value:""}}),t._v(" "),a("input",{staticClass:"ds-none",attrs:{id:"tagName",name:"tagName",value:""}})],2)]),t._v(" "),a("div",{staticClass:"index-view-btn"},[a("input",{staticClass:"submit",attrs:{type:"submit"},on:{click:t.submitMsg}})])]),t._v(" "),a("iframe",{staticStyle:{display:"none"},attrs:{id:"id_iframe",name:"id_iframe"}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-view-content-top"},[a("span",[t._v("文字模板：")]),t._v(" "),a("input",{attrs:{type:"file",name:"tempUpload"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-view-content-top"},[a("span",[t._v("风格模板：")]),t._v(" "),a("input",{attrs:{type:"file",name:"styleUpload"}})])}]}},443:function(t,e,a){var i=a(428);"string"==typeof i&&(i=[[t.i,i,""]]);a(148)(i,{});i.locals&&(t.exports=i.locals)},446:function(t,e,a){var i=a(431);"string"==typeof i&&(i=[[t.i,i,""]]);a(148)(i,{});i.locals&&(t.exports=i.locals)}});